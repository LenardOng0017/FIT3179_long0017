<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

    <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
</head>

<body class="base">
    <div class="contentContainer">
        <div>
            <h1 class="title" , id="titleMain">Mortality Rates in Malaysia</h1>

            <h2 class="subtitle">
                A look into the past...
            </h2>

            <p class="body" , id="bodyIntro">
                With ongoing advancements in technology and healthcare, the people of Malaysia have seen an
                increase in life expectancy alongside a growing population. As a whole, how has the people
                of Malaysia fared in terms of mortality rates over the years?
            </p>

            <div>
                <div class="subtitle" , id="mapTitle">
                    Percentage Deaths in Malaysia by State (2001 - 2020)
                </div>

                <div id="my_deaths_map"></div>
                <script type="text/javascript">
                    var spec = "js/map_deaths_by_state_year.vg.json";
                    vegaEmbed('#my_deaths_map', spec).then(function (result) {
                        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                    }).catch(console.error);
                </script>
            </div>
        </div>

        <div>
            <br>
            <div class="body" , id="bodyIntro">
                <p>
                    Although the total population is growing, the death rates have been <b>increasing</b> overall.
                </p>
                <p>
                    Additionally, the states in the northern region of Malaysia have seen a higher percentage of deaths.
                    That said, does <b>age</b> or <b>gender</b> play a role in the mortality rates in Malaysia?
                </p>
            </div>
            <br>

            <div class="sbsContainer">
                <div>
                    <div class="subtitle" , id="butterflyTitle">
                        Deaths by Gender and Age Group
                    </div>
                    <div id="my_deaths_butterfly_chart"></div>
                    <script type="text/javascript">
                        var spec = "js/butterfly_chart_deaths_by_age_group_sex.vg.json";
                        vegaEmbed('#my_deaths_butterfly_chart', spec).then(function (result) {
                            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                        }).catch(console.error);
                    </script>
                </div>

                <div class="body" , id="bodyButterfly">
                    Observing the data reveals that women generally have a longer life expectancy compared to men.
                    <br><br>
                    Overall, the number of deaths of lower age groups have remained relatively stable over the
                    years compared to the continuous increase for that of higher age groups.
                </div>
            </div>
        </div>

        <div>
            <h2 class="subtitle">
                Making A Comparison
            </h2>

            <div class="body">
                We know that the mortality rates have been increasing over the years, and that <b>gender</b> and <b>age</b> has a
                <b>non-negligible</b> effect on it. But how does each state compare to the rest in terms of deaths, and
                have any state seen a significant increase in deaths as to change it's ranking over the years?
            </div>

            <br>
            <div>
                <div class="subtitle" , id="bumpTitle">
                    Mortality Rate Ranking by State
                </div>
                <div id="my_deaths_bump_chart"></div>
                <script type="text/javascript">
                    var spec = "js/bump_chart_deaths_ranking.vg.json";
                    vegaEmbed('#my_deaths_bump_chart', spec).then(function (result) {
                        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
                    }).catch(console.error);
                </script>
            </div>

            <div class="body">
                <p>
                    Most states maintained similar rankings over the years, with notable exceptions of <b>Sabah</b>, <b>Sarawak</b>,
                    <b>Melaka</b> and <b>Pulau Pinang</b>, which have all seen final changes in ranking of <b>at least 3 positions</b>.
                </p>
                <p>
                    <b>Negeri Sembilan</b> in particular has seen great fluctuations in ranking over the years, but ultimately
                    ended 2020 in a rank similar to that in 2001.
                </p>
            </div>
        </div>

        <div>
            <h2 class="subtitle">
                The Future
            </h2>

            <p class="body">
                Even with the advancements in technology and healthcare, we can expect the mortality rates to continue
                <b>increasing</b> as the population grows. 
            </p>
            <p class="body"> 
                However, with a better understanding of the trends and patterns of 
                mortality rates in Malaysia, more informed decisions can be made to improve the quality of life, and 
                consequently the life expectancy for the people of the country.
            </p>
        </div>

        <hr>
        <div>
            <p>
                Author: Lenard Ong (32951280)
                <br>
                Date: 13 Oct 2024
                <br><br>
                Dataset sources:
                <br><br>
                Deaths by state and sex data:<br>
                https://archive.data.gov.my/data/dataset/death-by-state-sex-and-age-group-malaysia/resource/c7ae3dd7-b2aa-4458-ad10-877099ac9089
                <br> Date accessed: 1 Oct 2024
                <br><br>
                Map shapefile:<br>
                https://simplemaps.com/gis/country/my#admin1
                <br> Date accessed: 1 Oct 2024
                <br><br>
                Population data:<br>
                https://data.gov.my/data-catalogue/population_state
                <br> Date accessed: 1 Oct 2024
            </p>
        </div>
    </div>
</body>

</html>